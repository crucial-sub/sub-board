@tailwind base;
@tailwind components;
@tailwind utilities;

/* Pretendard Variable (optional local fallback) */
@font-face {
	font-family: "Pretendard Variable";
	src: url("/fonts/pretendard/PretendardVariable.woff2")
		format("woff2-variations");
	font-weight: 100 900;
	font-style: normal;
	font-display: swap;
}

/* JetBrains Mono for code snippets */
@font-face {
	font-family: "JetBrains Mono";
	src: url("/fonts/jetbrains-mono/JetBrainsMono-Regular.woff2") format("woff2");
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}
@font-face {
	font-family: "JetBrains Mono";
	src: url("/fonts/jetbrains-mono/JetBrainsMono-Bold.woff2") format("woff2");
	font-weight: 700;
	font-style: normal;
	font-display: swap;
}

:root {
	color-scheme: light;

	/* Background */
	--bg-app: #eef2f9;
	--bg-surface: rgba(255, 255, 255, 0.72);

	/* Text */
	--text-primary: #0f172a;
	--text-secondary: #4b5563;
	--text-subtle: #8b98ae;

	/* Border */
	--border-default: rgba(15, 23, 42, 0.08);
	--border-muted: rgba(15, 23, 42, 0.04);

	/* Brand */
	--brand: #0a84ff;
	--brand-hover: #0066d6;
	--brand-weak: rgba(10, 132, 255, 0.15);

	/* Accent */
	--accent-cyan: #5ac8fa;
	--accent-pink: #ffd3e2;

	/* Radius */
	--radius-sm: 10px;
	--radius-md: 16px;
	--radius-lg: 22px;
	--radius-xl: 28px;
	--radius-2xl: 36px;

	/* Shadows */
	--shadow-card: 0 25px 45px -24px rgba(15, 23, 42, 0.28);
	--shadow-popover: 0 40px 70px -32px rgba(15, 23, 42, 0.32);
}

@layer base {
	html,
	body {
		min-height: 100%;
	}

	body {
		background:
			radial-gradient(120% 140% at 15% 20%, rgba(90, 200, 250, 0.25), transparent),
			radial-gradient(110% 150% at 85% 15%, rgba(255, 211, 226, 0.22), transparent),
			linear-gradient(165deg, #f7f9fd 0%, #edf1f8 50%, #f9fbff 100%);
		@apply font-sans text-text-primary antialiased;
	}

	a {
		color: var(--brand);
		text-decoration: none;
		transition: color 0.2s ease;
	}

	a:hover {
		color: var(--brand-hover);
	}
}

@layer components {
	.surface-card {
		border-radius: var(--radius-xl);
		border: 1px solid rgba(255, 255, 255, 0.6);
		background: linear-gradient(
			145deg,
			rgba(255, 255, 255, 0.86),
			rgba(255, 255, 255, 0.72)
		);
		box-shadow: var(--shadow-card);
		backdrop-filter: saturate(1.8) blur(32px);
		-webkit-backdrop-filter: saturate(1.8) blur(32px);
	}

	.surface-glass {
		border-radius: var(--radius-lg);
		border: 1px solid rgba(255, 255, 255, 0.55);
		background: linear-gradient(
			150deg,
			rgba(255, 255, 255, 0.78),
			rgba(255, 255, 255, 0.64)
		);
		box-shadow: var(--shadow-card);
		backdrop-filter: saturate(1.6) blur(26px);
		-webkit-backdrop-filter: saturate(1.6) blur(26px);
	}

	.btn-gradient {
		background: linear-gradient(125deg, var(--brand), var(--accent-cyan));
		box-shadow: 0 12px 24px -12px rgba(10, 132, 255, 0.45);
		@apply inline-flex items-center justify-center rounded-full px-5 py-2 text-sm font-semibold text-white transition hover:brightness-110 active:scale-[0.99];
	}

	.btn-outline {
		border: 1px solid rgba(10, 132, 255, 0.35);
		background: rgba(255, 255, 255, 0.7);
		color: var(--brand);
		box-shadow: 0 6px 16px -10px rgba(10, 132, 255, 0.35);
		@apply inline-flex items-center justify-center rounded-full px-5 py-2 text-sm font-semibold transition hover:border-brand hover:text-brand;
	}

	.gradient-text {
		background: linear-gradient(120deg, var(--brand), var(--accent-cyan));
		@apply bg-clip-text text-transparent;
	}

	.tag {
		position: relative;
		display: inline-flex;
		align-items: center;
		gap: 0.35rem;
		border-radius: 9999px;
		border: 1px solid rgba(10, 132, 255, 0.18);
		background: linear-gradient(
			130deg,
			rgba(255, 255, 255, 0.85),
			rgba(255, 255, 255, 0.6)
		);
		padding: 0.4rem 0.95rem;
		font-size: 0.72rem;
		font-weight: 600;
		color: var(--text-secondary);
		box-shadow: 0 18px 30px -22px rgba(15, 23, 42, 0.45);
		backdrop-filter: saturate(1.45) blur(20px);
		-webkit-backdrop-filter: saturate(1.45) blur(20px);
		transition: color 0.2s ease, border-color 0.2s ease,
			background-color 0.2s ease, transform 0.2s ease;
	}

	.tag::before {
		content: "";
		position: absolute;
		inset: 1px;
		border-radius: inherit;
		background: linear-gradient(
			135deg,
			rgba(255, 255, 255, 0.75),
			rgba(255, 255, 255, 0.4)
		);
		z-index: 0;
	}

	.tag > * {
		position: relative;
		z-index: 10;
	}

	.tag:hover {
		border-color: rgba(10, 132, 255, 0.4);
		color: var(--brand);
		background: linear-gradient(
			135deg,
			rgba(10, 132, 255, 0.18),
			rgba(90, 200, 250, 0.12)
		);
		transform: translateY(-2px);
	}

	/* Landing Page Sections */
	.landing-section {
		position: relative;
		min-height: 100vh;
		display: flex;
		align-items: center;
		justify-content: center;
		overflow: hidden;
	}

	/* Colorful Section Backgrounds (KOTA-inspired) */
	.section-lime {
		background: linear-gradient(135deg, #d7e1d3 0%, #e5f0e0 100%);
	}

	.section-sky {
		background: linear-gradient(135deg, #a8e1ec 0%, #c5eef6 100%);
	}

	.section-lavender {
		background: linear-gradient(135deg, #c4b5f3 0%, #ddd4f9 100%);
	}

	.section-vanilla {
		background: linear-gradient(135deg, #f8e5cb 0%, #fdf0de 100%);
	}

	.section-pink {
		background: linear-gradient(135deg, #efb2d9 0%, #f8d4e9 100%);
	}

	/* Staggered Fade-in Animations */
	@keyframes fadeInUp {
		from {
			opacity: 0;
			transform: translateY(30px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	@keyframes fadeIn {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	@keyframes scaleIn {
		from {
			opacity: 0;
			transform: scale(0.95);
		}
		to {
			opacity: 1;
			transform: scale(1);
		}
	}

	.animate-fade-in-up {
		animation: fadeInUp 0.8s ease-out forwards;
		opacity: 0;
	}

	.animate-fade-in {
		animation: fadeIn 0.8s ease-out forwards;
		opacity: 0;
	}

	.animate-scale-in {
		animation: scaleIn 0.8s ease-out forwards;
		opacity: 0;
	}

	.delay-100 {
		animation-delay: 0.1s;
	}

	.delay-200 {
		animation-delay: 0.2s;
	}

	.delay-300 {
		animation-delay: 0.3s;
	}

	.delay-400 {
		animation-delay: 0.4s;
	}

	.delay-500 {
		animation-delay: 0.5s;
	}

	.delay-600 {
		animation-delay: 0.6s;
	}

	.delay-700 {
		animation-delay: 0.7s;
	}

	.delay-800 {
		animation-delay: 0.8s;
	}

	/* Feature Card with Smooth Hover Effect */
	.feature-card {
		@apply surface-glass p-8 transition-all duration-500 ease-out;
	}

	.feature-card:hover {
		transform: translateY(-4px);
		box-shadow: 0 30px 60px -20px rgba(15, 23, 42, 0.35);
	}

	/* Stats Number Animation */
	.stats-number {
		@apply text-5xl font-bold bg-clip-text text-transparent;
		background-image: linear-gradient(120deg, var(--brand), var(--accent-cyan));
	}

	/* Testimonial Card with Smooth Hover */
	.testimonial-card {
		@apply surface-card p-6 transition-all duration-500 ease-out;
	}

	.testimonial-card:hover {
		transform: translateY(-8px);
		box-shadow: 0 35px 65px -25px rgba(15, 23, 42, 0.4);
	}

	/* Floating Animation for Decorative Elements */
	@keyframes float-slow {
		0%,
		100% {
			transform: translateY(0) rotate(0deg);
		}
		50% {
			transform: translateY(-20px) rotate(5deg);
		}
	}

	@keyframes float-diagonal {
		0%,
		100% {
			transform: translate(0, 0) rotate(0deg);
		}
		50% {
			transform: translate(-15px, 30px) rotate(-10deg);
		}
	}

	@keyframes float-gentle {
		0%,
		100% {
			transform: translateY(0) rotate(0deg);
		}
		50% {
			transform: translateY(15px) rotate(-8deg);
		}
	}

	.float-slow {
		animation: float-slow 8s ease-in-out infinite;
	}

	.float-diagonal {
		animation: float-diagonal 10s ease-in-out infinite;
	}

	.float-gentle {
		animation: float-gentle 7s ease-in-out infinite;
	}

	/* Screen Reader Only - 스크린 리더 전용 텍스트 */
	.sr-only {
		position: absolute;
		width: 1px;
		height: 1px;
		padding: 0;
		margin: -1px;
		overflow: hidden;
		clip: rect(0, 0, 0, 0);
		white-space: nowrap;
		border-width: 0;
	}

	/* Focus visible for keyboard navigation */
	.sr-only:focus {
		position: static;
		width: auto;
		height: auto;
		padding: inherit;
		margin: inherit;
		overflow: visible;
		clip: auto;
		white-space: normal;
	}

	/* Skip Link - 키보드 포커스 시에만 표시 */
	.skip-link {
		position: absolute;
		left: -9999px;
		z-index: 999;
		padding: 1em 1.5em;
		background: var(--brand);
		color: white;
		text-decoration: none;
		border-radius: 0 0 var(--radius-md) 0;
		font-weight: 600;
		font-size: 0.875rem;
		box-shadow: var(--shadow-popover);
	}

	.skip-link:focus {
		left: 0;
		top: 0;
	}

	/* ===========================
	   타임라인 & 라이브 피드 스타일
	   =========================== */

	/* 북마크 탭 네비게이션 */
	.bookmark-tab {
		position: relative;
		display: inline-flex;
		align-items: center;
		padding: 0.625rem 1.25rem;
		font-size: 0.875rem;
		font-weight: 600;
		color: var(--text-secondary);
		background: linear-gradient(to bottom, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.75));
		border: 1px solid rgba(255, 255, 255, 0.6);
		border-bottom: none;
		border-radius: 12px 12px 0 0;
		box-shadow: 0 -4px 12px -8px rgba(15, 23, 42, 0.15);
		transition: all 0.2s ease;
	}

	.bookmark-tab:hover {
		color: var(--brand);
		background: linear-gradient(to bottom, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0.9));
		transform: translateY(-2px);
		box-shadow: 0 -6px 16px -8px rgba(10, 132, 255, 0.25);
	}

	.bookmark-tab-user {
		display: flex;
		align-items: center;
		gap: 0.75rem;
		padding: 0.625rem 1rem;
		background: linear-gradient(to bottom, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.85));
		border: 1px solid rgba(255, 255, 255, 0.7);
		border-bottom: none;
		border-radius: 12px 12px 0 0;
		box-shadow: 0 -4px 12px -8px rgba(15, 23, 42, 0.15);
	}

	.bookmark-tab-cta {
		display: inline-flex;
		align-items: center;
		padding: 0.625rem 1.25rem;
		font-size: 0.875rem;
		font-weight: 600;
		color: white;
		background: linear-gradient(125deg, var(--brand), var(--accent-cyan));
		border-radius: 12px 12px 0 0;
		box-shadow: 0 -4px 16px -8px rgba(10, 132, 255, 0.4);
		transition: all 0.2s ease;
	}

	.bookmark-tab-cta:hover {
		transform: translateY(-2px);
		box-shadow: 0 -6px 20px -8px rgba(10, 132, 255, 0.5);
		filter: brightness(1.1);
	}

	/* 타임라인 컨테이너 */
	.timeline-container {
		position: relative;
		display: flex;
		flex-direction: column;
		gap: 1.5rem;
		padding-left: 2rem;
	}

	/* 타임라인 세로선 */
	.timeline-container::before {
		content: "";
		position: absolute;
		left: 0.5rem;
		top: 1rem;
		bottom: 1rem;
		width: 3px;
		background: linear-gradient(to bottom, var(--brand), var(--accent-cyan), var(--accent-pink));
		border-radius: 9999px;
		opacity: 0.3;
	}

	/* 타임라인 카드 */
	.timeline-card {
		position: relative;
		padding: 1.5rem;
		border-radius: 20px;
		border: 1px solid rgba(255, 255, 255, 0.6);
		background: linear-gradient(145deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.75));
		box-shadow: 0 20px 40px -28px rgba(15, 23, 42, 0.3);
		backdrop-filter: saturate(1.6) blur(28px);
		-webkit-backdrop-filter: saturate(1.6) blur(28px);
		transition: all 0.3s ease;
	}

	.timeline-card:hover {
		transform: translateX(4px);
		box-shadow: 0 25px 50px -28px rgba(15, 23, 42, 0.4);
	}

	/* 타임라인 점 */
	.timeline-dot {
		position: absolute;
		left: -1.625rem;
		top: 1.5rem;
		width: 0.875rem;
		height: 0.875rem;
		border-radius: 50%;
		background: linear-gradient(135deg, var(--brand), var(--accent-cyan));
		border: 3px solid var(--bg-app);
		box-shadow: 0 0 0 2px rgba(10, 132, 255, 0.2);
		z-index: 10;
	}

	.timeline-card:hover .timeline-dot {
		transform: scale(1.3);
		box-shadow: 0 0 0 4px rgba(10, 132, 255, 0.3), 0 0 12px rgba(10, 132, 255, 0.4);
	}

	/* LIVE 배지 */
	.live-badge {
		position: relative;
		display: inline-flex;
		align-items: center;
		gap: 0.375rem;
		padding: 0.375rem 0.75rem;
		font-size: 0.75rem;
		font-weight: 700;
		color: white;
		background: linear-gradient(135deg, #ff3b3b, #ff6b6b);
		border-radius: 9999px;
		box-shadow: 0 4px 12px rgba(255, 59, 59, 0.4);
		animation: live-badge-pulse 2s ease-in-out infinite;
	}

	.live-pulse {
		width: 6px;
		height: 6px;
		border-radius: 50%;
		background: white;
		animation: pulse-dot 1.5s ease-in-out infinite;
	}

	@keyframes live-badge-pulse {
		0%, 100% {
			box-shadow: 0 4px 12px rgba(255, 59, 59, 0.4);
		}
		50% {
			box-shadow: 0 4px 16px rgba(255, 59, 59, 0.6), 0 0 20px rgba(255, 59, 59, 0.3);
		}
	}

	@keyframes pulse-dot {
		0%, 100% {
			opacity: 1;
			transform: scale(1);
		}
		50% {
			opacity: 0.5;
			transform: scale(0.8);
		}
	}

	/* 슬라이드 인 애니메이션 (새 글 등장) */
	@keyframes slide-in-from-top {
		from {
			opacity: 0;
			transform: translateY(-30px) translateX(-10px);
		}
		to {
			opacity: 1;
			transform: translateY(0) translateX(0);
		}
	}

	.slide-in-new {
		animation: slide-in-from-top 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
	}

	/* 하이라이트 플래시 애니메이션 (토스트 알림 연동) */
	@keyframes highlight-flash {
		0%, 100% {
			box-shadow: 0 20px 40px -28px rgba(15, 23, 42, 0.3);
			border-color: rgba(255, 255, 255, 0.6);
		}
		25% {
			box-shadow: 0 0 0 4px rgba(10, 132, 255, 0.4), 0 25px 50px -28px rgba(10, 132, 255, 0.5);
			border-color: rgba(10, 132, 255, 0.6);
		}
		50% {
			box-shadow: 0 20px 40px -28px rgba(15, 23, 42, 0.3);
			border-color: rgba(255, 255, 255, 0.6);
		}
	}

	.highlight-flash {
		animation: highlight-flash 1.5s ease-in-out;
	}

	/* 반응형: 모바일에서 타임라인 선 숨김 */
	@media (max-width: 768px) {
		.timeline-container {
			padding-left: 0;
		}

		.timeline-container::before {
			display: none;
		}

		.timeline-dot {
			display: none;
		}
	}
}
